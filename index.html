<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸŒ Anouk's World Challenge 2026</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
      position: relative;
      overflow-x: hidden;
    }
    .floating-hearts {
      position: fixed; width: 100%; height: 100%;
      overflow: hidden; pointer-events: none; z-index: 1;
    }
    .heart {
      position: absolute;
      font-size: 20px;
      animation: float-up 8s linear infinite;
      opacity: 0.35;
    }
    @keyframes float-up {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 0.35; }
      90% { opacity: 0.35; }
      100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
    }
    .app-container {
      max-width: 500px; margin: 0 auto; min-height: 100vh;
      background: #fff; position: relative; z-index: 10;
      box-shadow: 0 0 50px rgba(0,0,0,0.2);
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 30px 20px; text-align: center; color: #fff;
      position: relative; overflow: hidden;
    }
    .header::before {
      content: ""; position: absolute; top: -50%; left: -50%;
      width: 200%; height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
      animation: shimmer 3s linear infinite;
    }
    @keyframes shimmer { 0% { transform: rotate(0deg);} 100%{ transform: rotate(360deg);} }
    .header h1 { font-size: 28px; margin-bottom: 10px; position: relative; z-index: 1;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
    .header p { opacity: 0.95; font-size: 14px; position: relative; z-index: 1; }
    .stats-bar {
      background: #fff; padding: 15px; display: flex; justify-content: space-around;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100;
    }
    .stat { text-align: center; cursor: pointer; transition: transform 0.2s; }
    .stat:hover { transform: scale(1.08); }
    .stat-value {
      font-size: 24px; font-weight: bold;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
    }
    .stat-label { font-size: 11px; color: #666; margin-top: 2px; }
    .progress-bar { height: 6px; background: #f0f0f0; position: relative; overflow: hidden; }
    .progress-fill {
      height: 100%; background: linear-gradient(90deg, #667eea, #764ba2);
      width: 0%; transition: width 0.5s ease; position: relative;
    }
    .progress-fill::after {
      content: ""; position: absolute; top:0; left:0; right:0; bottom:0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: shine 2s infinite;
    }
    @keyframes shine { 0%{ transform: translateX(-100%);} 100%{ transform: translateX(100%);} }
    .tabs {
      display: flex; background: #f8f9fa; border-bottom: 1px solid #e0e0e0;
      position: sticky; top: 73px; z-index: 99;
    }
    .tab { flex: 1; padding: 15px; text-align: center; cursor: pointer;
      transition: all 0.3s; font-size: 14px; position: relative; }
    .tab:hover { background: #f0f0f0; }
    .tab.active { background: #fff; color: #667eea; font-weight: 600; }
    .tab.active::after {
      content: ""; position: absolute; bottom: 0; left: 0; right: 0; height: 3px;
      background: linear-gradient(90deg, #667eea, #764ba2);
    }
    .tab-icon { font-size: 20px; margin-bottom: 5px; }
    .content { padding: 20px; min-height: 400px; }
    .country-section { margin-bottom: 30px; opacity: 0; animation: fadeIn 0.5s forwards; }
    @keyframes fadeIn { to { opacity: 1; } }
    .country-header {
      display: flex; align-items: center; margin-bottom: 15px; padding: 15px;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 12px; cursor: pointer; transition: transform 0.3s;
    }
    .country-header:hover { transform: translateX(5px); }
    .country-flag { font-size: 32px; margin-right: 15px; }
    .country-info h3 { color: #333; margin-bottom: 3px; }
    .country-info span { font-size: 12px; color: #666; }
    .country-progress { margin-left: auto; text-align: center; }
    .progress-circle {
      --progress: 0deg;
      width: 50px; height: 50px; border-radius: 50%;
      background: conic-gradient(#667eea 0deg, #667eea var(--progress), #f0f0f0 var(--progress));
      display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 12px; position: relative;
    }
    .progress-circle::before {
      content: ""; position: absolute; width: 40px; height: 40px; background: #fff; border-radius: 50%; z-index: 0;
    }
    .progress-circle span { position: relative; z-index: 1; }
    .challenge-card {
      background: #fff; border: 1px solid #e0e0e0; border-radius: 12px; padding: 15px;
      margin-bottom: 12px; cursor: pointer; transition: all 0.3s; position: relative; overflow: hidden;
    }
    .challenge-card::before {
      content: ""; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(102,126,234,0.1), transparent);
      transition: left 0.5s;
    }
    .challenge-card:hover::before { left: 100%; }
    .challenge-card:hover { transform: translateY(-3px); box-shadow: 0 5px 20px rgba(102,126,234,0.3); }
    .challenge-card.completed { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); opacity: 0.85; }
    .challenge-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
    .challenge-category {
      display: inline-block; padding: 4px 8px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff; border-radius: 12px; font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;
    }
    .challenge-points { font-weight: bold; color: #667eea; font-size: 14px; }
    .challenge-title { font-weight: 600; color: #333; margin-bottom: 5px; display: flex; align-items: center; gap: 8px; }
    .challenge-description { font-size: 13px; color: #666; line-height: 1.4; }
    .challenge-reward { margin-top: 10px; padding: 8px;
      background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
      border-radius: 8px; font-size: 12px; display: flex; align-items: center; gap: 5px;
    }
    .mystery-box {
      background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
      color: #fff; padding: 20px; border-radius: 15px; margin: 20px 0; text-align: center; cursor: pointer; transition: all 0.3s; position: relative; overflow: hidden;
    }
    .mystery-box::before {
      content: "ğŸ"; position: absolute; font-size: 100px; opacity: 0.1;
      top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-15deg); animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%,100% { transform: translate(-50%, -50%) rotate(-15deg) scale(1); }
      50% { transform: translate(-50%, -50%) rotate(-15deg) scale(1.08); }
    }
    .mystery-box:hover { transform: scale(1.02); box-shadow: 0 10px 30px rgba(108,92,231,0.4); }
    .mystery-box h4 { font-size: 18px; margin-bottom: 5px; position: relative; }
    .mystery-box p { font-size: 13px; opacity: 0.95; position: relative; }
    .leaderboard {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 15px; padding: 20px; margin: 20px 0;
    }
    .leaderboard-item {
      display: flex; align-items: center; justify-content: space-between;
      padding: 12px; background: #fff; border-radius: 10px; margin-bottom: 10px;
      transition: transform 0.3s;
    }
    .leaderboard-item:hover { transform: translateX(5px); }
    .achievement-grid {
      display: grid; grid-template-columns: repeat(3, 1fr);
      gap: 15px; margin: 20px 0;
    }
    .achievement-badge {
      text-align: center; padding: 15px 10px; background: #fff; border: 2px solid #e0e0e0;
      border-radius: 12px; transition: all 0.3s; cursor: pointer; position: relative;
    }
    .achievement-badge.unlocked { border-color: #667eea; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); animation: unlock 0.5s ease; }
    @keyframes unlock {
      0% { transform: scale(0.8) rotate(-10deg); }
      50% { transform: scale(1.1) rotate(5deg); }
      100% { transform: scale(1) rotate(0deg); }
    }
    .achievement-badge.unlocked::after {
      content: "âœ“"; position: absolute; top: 5px; right: 5px; background: #667eea; color: #fff;
      width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px;
    }
    .achievement-icon { font-size: 32px; margin-bottom: 8px; }
    .achievement-badge.locked .achievement-icon { filter: grayscale(1); opacity: 0.35; }
    .achievement-name { font-size: 11px; font-weight: 600; color: #333; }
    .achievement-badge.locked .achievement-name { color: #999; }
    .modal {
      display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.7); z-index: 1000; animation: fadeIn 0.3s;
    }
    .modal.active { display: flex; align-items: center; justify-content: center; }
    .modal-content {
      background: #fff; border-radius: 20px; padding: 30px; max-width: 420px; width: 90%; text-align: center; animation: slideUp 0.3s; position: relative;
    }
    @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    .modal-close { position: absolute; top: 15px; right: 15px; font-size: 24px; cursor: pointer; color: #999; transition: color 0.3s; }
    .modal-close:hover { color: #333; }
    .complete-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff; border: none; padding: 12px 30px; border-radius: 25px; font-weight: 600;
      cursor: pointer; transition: all 0.3s; margin-top: 20px; position: relative; overflow: hidden;
    }
    .complete-button::before {
      content: ""; position: absolute; top: 50%; left: 50%; width: 0; height: 0; background: rgba(255,255,255,0.3);
      border-radius: 50%; transform: translate(-50%,-50%); transition: width 0.6s, height 0.6s;
    }
    .complete-button:hover::before { width: 300px; height: 300px; }
    .complete-button:hover { transform: scale(1.04); box-shadow: 0 10px 30px rgba(102,126,234,0.4); }
    .reward-notification {
      position: fixed; top: 20px; right: 20px; background: #fff; padding: 15px 20px; border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2); transform: translateX(400px); transition: transform 0.3s; z-index: 2000; max-width: 300px;
    }
    .reward-notification.show { transform: translateX(0); }
    .reward-notification h4 { color: #667eea; margin-bottom: 5px; display: flex; align-items: center; gap: 8px; }
    .special-date-banner {
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      color: #fff; padding: 15px; text-align: center; border-radius: 12px; margin: 20px;
      animation: glow 2s ease-in-out infinite;
    }
    @keyframes glow { 0%,100% { box-shadow: 0 0 20px rgba(255,107,107,0.5);} 50%{ box-shadow: 0 0 30px rgba(255,107,107,0.8);} }
    .filter-buttons { display: flex; gap: 8px; margin: 15px 0; flex-wrap: wrap; }
    .filter-btn {
      padding: 6px 12px; border: 1px solid #e0e0e0; background: #fff; border-radius: 20px; font-size: 12px; cursor: pointer; transition: all 0.3s;
    }
    .filter-btn:hover { border-color: #667eea; color: #667eea; }
    .filter-btn.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; border-color: transparent; }
    .countdown { text-align: center; padding: 20px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 15px; margin: 20px; }
    .countdown-timer { display: flex; justify-content: center; gap: 20px; margin-top: 15px; }
    .countdown-item { text-align: center; }
    .countdown-value { font-size: 28px; font-weight: bold; color: #667eea; }
    .countdown-label { font-size: 11px; color: #666; text-transform: uppercase; }
    @media (max-width: 500px) { .app-container { max-width: 100%; } }
  </style>
</head>
<body>
  <div class="floating-hearts" id="hearts"></div>
  <div class="app-container">
    <div class="header">
      <h1>ğŸŒ Anouk's Wereldreis Challenge 2025</h1>
      <p>Voor nog meer onvergetelijke momentenğŸ’‹</p>
    </div>

    <div class="stats-bar">
      <div class="stat" onclick="showTab('countries')">
        <div class="stat-value" id="totalPoints">0</div>
        <div class="stat-label">Punten</div>
      </div>
      <div class="stat" onclick="showTab('achievements')">
        <div class="stat-value" id="completedChallenges">0/0</div>
        <div class="stat-label">Challenges</div>
      </div>
      <div class="stat" onclick="showTab('rewards')">
        <div class="stat-value" id="unlockedRewards">0</div>
        <div class="stat-label">Beloningen</div>
      </div>
    </div>

    <div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>

    <div class="tabs">
      <div class="tab active" data-tab="countries" onclick="showTab('countries')">
        <div class="tab-icon">ğŸ—ºï¸</div><div>Landen</div>
      </div>
      <div class="tab" data-tab="achievements" onclick="showTab('achievements')">
        <div class="tab-icon">ğŸ†</div><div>Badges</div>
      </div>
      <div class="tab" data-tab="rewards" onclick="showTab('rewards')">
        <div class="tab-icon">ğŸ</div><div>Beloningen</div>
      </div>
    </div>

    <div id="specialBannerContainer"></div>
    <div id="countdownContainer"></div>

    <div class="content" id="content"></div>
  </div>

  <div class="modal" id="challengeModal">
    <div class="modal-content">
      <span class="modal-close" onclick="closeModal()">&times;</span>
      <h3 id="modalTitle"></h3>
      <p id="modalDescription" style="margin-top:8px;"></p>
      <p id="modalLocation" style="margin-top:8px; font-size:13px; opacity:0.9;"></p>
      <div id="modalRewardBox" class="challenge-reward" style="display:none; margin-top:14px;"></div>
      <button id="completeBtn" class="complete-button" onclick="completeChallenge()">âœ“ Challenge Voltooid!</button>
      <button id="undoBtn" class="complete-button" style="display:none; margin-left:10px; background:linear-gradient(135deg,#999,#777)" onclick="undoChallenge()">â†© Ongedaan maken</button>
    </div>
  </div>

  <div class="reward-notification" id="rewardNotification">
    <h4>ğŸ‰ Nieuwe Beloning!</h4>
    <p id="rewardText"></p>
  </div>

  <script>
    /* ------------------------
       Config & Data
       ------------------------ */

    // âš™ï¸ Pas hier eenvoudig je startdatum aan (YYYY-MM-DD)
    const tripStartDate = localStorage.getItem('wr_tripStart') || '2025-12-30';

    // Dataset per land (compact maar uitbreidbaar)
    const data = {
      nederland: {
        id: 'nederland',
        name: 'Nederland',
        flag: 'ğŸ‡³ğŸ‡±',
        period: 'vandaag',
        challenges: [
          { id: 'nl1', category: 'amsterdam', title: 'De dierenriem', description: 'drink minimaal een biertje bij 5 verschillende kroegen uit de dierenriem', points: 50, reward: 'ğŸŒ„Ontbijtje op bed morgenochtend', location: 'Amsterdam' },
          { id: 'nl2', category: 'amsterdam', title: 'Groepsfoto', description: 'Maak de leukste groepsfoto ever voor aan de muur in onze Camper', points: 50, reward: 'ğŸº Shots!!!!!', location: 'Amsterdam' },
          { id: 'nl3', category: 'amsterdam', title: 'Pikketanussie', description: 'Drink een Pikketanussie met een vriend(in) naar keuze', points: 70, reward: 'Herstel colaatje van Danny', location: 'Amsterdam' },
          { id: 'nl4', category: 'amsterdam', title: 'Social talk', description: 'Start een gesprek met een vreemde en vertel over je reis ', points: 100, reward: 'ğŸ“¸ Polaroid met al je matties', location: 'Amsterdam'},
          { id: 'nl5', category: 'amsterdam', title: 'Ik meen het', description: 'Pak de microfoon in de twee zwaantjes en zing ik meen het van Andre Hazes', points: 80, reward: 'ğŸ¤ Danny zingt met je mee', location: 'Amsterdam' }
      ]
    },
      newZealand: {
        id: 'newZealand',
        name: 'Nieuw-Zeeland',
        flag: 'ğŸ‡³ğŸ‡¿',
        period: 'Januari â€“ Februari',
        challenges: [
          { id: 'nz1', category: 'culinair', title: 'Martinborough Wijn Meester', description: 'Proef 5 Pinot Noirs en kies je favoriet.', points: 50, reward: 'ğŸ· Fles lokale wijn', location: 'Martinborough' },
          { id: 'nz2', category: 'hiking', title: 'Abel Tasman Zonsopgang', description: 'Start vÃ³Ã³r zonsopgang en maak een foto op Anchorage Bay.', points: 75, reward: 'ğŸ’‹ Kusje van Danny', location: 'Abel Tasman' },
          { id: 'nz3', category: 'kite', title: 'KaikÅura Kite Queen', description: 'Ga kiten met dolfijnen op de achtergrond (op veilige afstand).', points: 100, reward: 'ğŸª Kite-sticker', location: 'KaikÅura' },
          { id: 'nz4', category: 'sociaal', title: 'Kea Whisperer', description: 'Spot een kea in het wild en imiteer zijn roep.', points: 60, reward: 'ğŸ¦œ Een Kea sleutelhanger', location: 'Arthurâ€™s Pass' },
          { id: 'nz5', category: 'culinair', title: 'Fergburger Challenge', description: 'Eet een vega Fergburger zonder bestek.', points: 40, reward: 'ğŸ” Tissue om je handen schoon te maken', location: 'Queenstown' },
          { id: 'nz6', category: 'wildcard', title: 'Milford Sound Magie', description: 'Zwem 30 seconden in Milford Sound!', points: 150, reward: 'ğŸŠ Een warme knuffel van je vriendje', location: 'Milford Sound' },
          { id: 'nz7', category: 'hiking', title: 'Mount Cook Stargazer', description: 'Kampeer en tel 10 vallende sterren.', points: 80, reward: 'â­ Sterrenkaart', location: 'Aoraki/Mt Cook' },
          { id: 'nz8', category: 'sociaal', title: 'Street Art Scout', description: 'Vind 10 street-art werken in Christchurch en maak een collage.', points: 45, reward: 'ğŸ¨ Ansichtkaart', location: 'Christchurch' },
          { id: 'nz9', category: 'culinair', title: 'Vissersvrouw', description: 'Eet fish & chips op de veerboot bij zonsondergang.', points: 35, reward: 'ğŸŸ Een smintje', location: 'Auckland' },
          { id: 'nz10', category: 'romance', title: 'Franz Josef Glacier Kiss', description: 'Geef een kus bij het Glacier viewpoint.', points: 50, reward: 'ğŸ’‹ Eeuwige liefde van je vriendje', location: 'Franz Josef' },
          { id: 'nz11', category: 'hiking', title: 'Te Anau Glowworm', description: 'Bezoek de glowworm grotten; 10s volledige stilte.', points: 55, reward: 'âœ¨ Gerrit in the dark', location: 'Te Anau' },
          { id: 'nz12', category: 'kite', title: 'Wellington Wind Warrior', description: 'Kite in de Wellington-wind (bonus: overeind blijven).', points: 90, reward: 'ğŸ’¨ Windvaste reisjas', location: 'Wellington' },
          { id: 'nz13', category: 'sociaal', title: 'Bark Bay Seal Selfie', description: 'Selfie met een zeehond (op veilige afstand!).', points: 70, reward: 'ğŸ“¸ Een like op je insta foto', location: 'Bark Bay' },
          { id: 'nz14', category: 'culinair', title: 'Akaroa Franse Connectie', description: 'Bestel je hele lunch in het Frans.', points: 60, reward: 'ğŸ¥ Kaascroissantje van Danny', location: 'Akaroa' },
          { id: 'nz15', category: 'hiking', title: 'Hooker Valley Touch', description: 'Voltooi de Hooker Valley Track en raak de gletsjer aan.', points: 85, reward: 'ğŸ”ï¸ Een lekker drankje naar keuze', location: 'Aoraki/Mt Cook' },
          { id: 'nz16', category: 'culinair', title: 'Pannenkoekenrots Picknick', description: 'Eet zelfgemaakte pannenkoeken bij Pancake Rocks.', points: 65, reward: 'ğŸ¥ Danny doet de afwas', location: 'Punakaiki' },
          { id: 'nz17', category: 'sociaal', title: 'Cape Foulwind Pup Teller', description: 'Tel de baby zeehonden bij de kolonie.', points: 45, reward: 'ğŸ¦­ Kusjes van de zeehonden baby', location: 'Cape Foulwind' },
          { id: 'nz18', category: 'hiking', title: 'Tongariro Alpine Crossing', description: 'Loop deze spectaculaire hike en leg het vast.', points: 70, reward: 'ğŸ› In vuur en vlam vanavond :P', location: 'Tongariro NP' },
          { id: 'nz19', category: 'wildcard', title: 'Free camping Lake Pukaki', description: 'Zet de camper bij the Pines op de mooiste plek van het meer ', points: 70, reward: 'ğŸ·Flesje openen op deze fantastische locatie', location: 'Lake Pukaki' },
          { id: 'nz20', category: 'romance', title: 'NZ Sunset', description: 'Kus bij zonsondergang op het strand.', points: 50, reward: 'ğŸ’‹ Romantische avond met Danny en Gellie', location: 'Overal in NZ' },
          { id: 'nz21', category: 'wildcard', title: 'Hobbiton Selfie', description: 'Maak een creatieve selfie in Hobbiton.', points: 40, reward: 'ğŸº Een biertje in de Green Dragon', location: 'Hobbiton' },
          { id: 'nz22', category: 'culinair', title: 'L&P Proeverij', description: 'Proef L&P in 3 verschillende smaken.', points: 30, reward: 'ğŸ¥¤ Flesje LP', location: 'Overal in NZ'},
          { id: 'nz23', category: 'hiking', title: 'Roys Peak Sunrise', description: 'Vroege hike voor zonsopgang foto.', points: 90, reward: 'ğŸŒ„ Ontbijt van Danny', location: 'Wanaka' }
        ]
      },
      vietnam: {
        id: 'vietnam',
        name: 'Vietnam',
        flag: 'ğŸ‡»ğŸ‡³',
        period: 'Februari â€“ Maart',
        challenges: [
          { id: 'vn1', category: 'culinair', title: 'Nachtmarkt A-Z', description: 'Probeer 5 gerechtjes die beginnen met een andere letter', points: 80, reward: 'ğŸœ Toetjes is van mij', location: 'Hoi An / Hanoi' },
          { id: 'vn3', category: 'hiking', title: 'Sapa Ridge Walk', description: 'Zonsopgang hike met rijstterrassen uitzicht.', points: 70, reward: 'ğŸ¥¾ Danny zorgt voor ontbijt', location: 'Sapa' },
          { id: 'vn4', category: 'wildcard', title: 'Verborgen Waterval', description: 'Vind een geheime waterval en deel GPS-coÃ¶rdinaten.', points: 90, reward: 'ğŸ’¦ Zwemmen en Danny droogt je af', location: 'Noord-VN' },
          { id: 'vn5', category: 'culinair', title: '8-Poot Challenge', description: 'Probeer iets met >8 pootjes op een nachtmarkt ğŸ˜‰', points: 100, reward: 'ğŸº Biertje van Danny', location: 'Saigon/Hanoi' },
          { id: 'vn6', category: 'romance', title: 'Halong Bay Sunset', description: 'Kus bij zonsondergang op een boot.', points: 60, reward: 'ğŸ’‹ extra zoen van je vriendje', location: 'Halong Bay' },
          { id: 'vn7', category: 'sociaal', title: 'Ao Dai Fashionista', description: 'Laat een Ao Dai op maat maken en draag het.', points: 70, reward: 'ğŸ‘— Foto in Ao Dai', location: 'Hoi An'},
          { id: 'vn8', category: 'hiking', title: 'Marble Mountains Climb', description: 'Beklim de Marble Mountains en vind een grot.', points: 50, reward: 'ğŸ—¿ Miniatuur Boeddha', location: 'Da Nang' },
          { id: 'vn9', category: 'kite', title: 'Mui Ne Kite Session', description: 'Kite 1 uur in Mui Ne en maak een sprong.', points: 90, reward: 'ğŸ’† Een massage van je vriendje ', location: 'Mui Ne' },
          { id: 'vn10', category: 'sociaal', title: 'Cyclo Chauffeur', description: 'Maak een ritje in een cyclo en leer 3 woorden Vietnamees.', points: 60, reward: 'ğŸš² kleine souvenir', location: 'Hanoi / Saigon' },
          { id: 'vn11', category: 'culinair', title: 'Probeer Egg Coffee', description: 'Proef en beoordeel een egg coffee.', points: 70, reward: 'ğŸ¥š Egg coffee', location: 'Hanoi / Saigon' },
          { id: 'vn12', category: 'culinair', title: 'Bia Hoi Proeverij', description: 'Proef 3 verschillende soorten Bia Hoi.', points: 40, reward: 'ğŸº Bia Hoi traktatie', location: 'Hanoi / Saigon' },
          { id: 'vn13', category: 'wildcard', title: 'Cu Chi Tunnels', description: 'Kruip door een deel van de tunnels.', points: 60, reward: 'ğŸ•³ï¸ Verassing in het donker', location: 'Cu Chi' },
          { id: 'vn14', category: 'wildcard', title: 'Strand Challenge', description: 'Vind een uniek voorwerp op het strand en maak een foto ermee.', points: 50, reward: 'ğŸ–ï¸ Strand souvenir', location: 'Diverse stranden in Vietnam' },
          { id: 'vn15', category: 'romance', title: 'Hoi An Lantaarn Kus', description: 'Kus onder de lantaarns in Hoi An.', points: 60, reward: 'ğŸ’‹ Extra zoen van je vriendje', location: 'Hoi An' },
          { id: 'vn16', category: 'hiking', title: 'Ba Be Lake Trek', description: 'Maak een trek rondom Ba Be Lake en spot wildlife.', points: 80, reward: 'ğŸ¦œ Miniatuur dier', location: 'Ba Be National Park' },
          { id: 'vn17', category: 'culinair', title: 'Street Food Tour', description: 'Doe een street food tour en beoordeel 5 gerechten.', points: 90, reward: 'ğŸ² Street food traktatie', location: 'Hanoi / Saigon' },
          { id: 'vn18', category: 'sociaal', title: 'Local Market Explorer', description: 'Bezoek een lokale markt en leer over 3 ingrediÃ«nten.', points: 70, reward: 'ğŸ›’ Markt souvenir', location: 'Diverse markten in Vietnam' },
          { id: 'vn19', category: 'wildcard', title: 'Mekong Delta Boottocht', description: 'Maak een boottocht door de Mekong Delta en spot unieke flora/fauna.', points: 80, reward: 'ğŸš¤ Miniatuur boot', location: 'Mekong Delta' },
          { id: 'vn20', category: 'romance', title: 'Sunset at Lang Co Beach', description: 'Kus bij zonsondergang op Lang Co Beach.', points: 60, reward: 'ğŸ’‹ Romantische avond met Danny en Gellie', location: 'Lang Co Beach'  },
          { id: 'vn21', category: 'culinair', title: 'Loempia Master', description: 'Maak je eigen loempia met een local.', points: 70, reward: 'ğŸ¥¢ Loempia traktatie', location: 'Hoi An'}          
         
        ]
      },
      china: {
        id: 'china', name: 'China', flag: 'ğŸ‡¨ğŸ‡³', period: 'Maart â€“ April',
        challenges: [
          { id: 'cn1', category: 'culinair', title: 'Sichuan Vuurdoop', description: 'Overleef hotpot level 5 ğŸ”¥', points: 100, reward: 'ğŸ¥µ Milk tea traktatie', location: 'Chengdu' },
          { id: 'cn2', category: 'sociaal', title: 'Mahjong Master', description: 'Win een potje van Chinese omaâ€™s.', points: 200, reward: 'ğŸ€„ Mini setje', location: 'Chengdu / Shanghai' },
          { id: 'cn3', category: 'hiking', title: 'Tiger Leaping Gorge', description: 'Trek de kloof en vind een â€œsecret viewâ€.', points: 120, reward: 'â›°ï¸ Buff', location: 'Yunnan' },
          { id: 'cn4', category: 'wildcard', title: 'Theeceremonie', description: 'Volg een theeceremonie en noteer 3 theesoorten.', points: 60, reward: 'ğŸµ Theesetje', location: 'Hangzhou' },
          { id: 'cn5', category: 'romance', title: 'Great Wall Kiss', description: 'Kus op de Great Wall bij zonsondergang.', points: 80, reward: 'ğŸ’‹ Kusje van Danny', location: 'Mutianyu' },
          { id: 'cn6', category: 'culinair', title: 'Dim Sum Proeverij', description: 'Proef 5 verschillende dim sum gerechtjes.', points: 70, reward: 'ğŸ¥¢ Dim sum traktatie', location: 'Hong Kong' },
          { id: 'cn7', category: 'sociaal', title: 'Temple Fair Fun', description: 'Bezoek een tempel fair en leer 3 tradities.', points: 90, reward: 'ğŸ Souvenir van de fair', location: 'Beijing' },
          { id: 'cn8', category: 'hiking', title: 'Zhangjiajie Avatar Mountains', description: 'Wandel tussen de karstbergen en spot wildlife.', points: 110, reward: 'ğŸ¦œ Miniatuur dier', location: 'Zhangjiajie' },
          { id: 'cn9', category: 'kite', title: 'Weifang Kite Festival', description: 'Vlieg een vlieger op het festival en maak een sprong.', points: 95, reward: 'ğŸª Vlieger-sticker', location: 'Weifang' },
          { id: 'cn10', category: 'culinair', title: 'Peking Eend Proeverij', description: 'Eet Peking eend op zâ€™n best.', points: 85, reward: 'ğŸ¦† Peking eend traktatie', location: 'Beijing' },
          { id: 'cn11', category: 'sociaal', title: 'Calligraffiti Artist', description: 'Leer 3 karakters in Chinese kalligrafie.', points: 75, reward: 'ğŸ–Œï¸ een pen', location: 'Overal in China'},
          { id: 'cn12', category: 'wildcard', title: 'Shanghai Skyline Selfie', description: 'Maak een creatieve selfie met de skyline.', points: 65, reward: 'ğŸ“¸ Een like op je insta foto', location: 'Shanghai'},
          { id: 'cn13', category: 'romance', title: 'West Lake Romance', description: 'Kus bij zonsondergang op een bootje.', points: 70, reward: 'ğŸ’‹ Extra zoen van je vriendje', location: 'Hangzhou'},
          { id: 'cn14', category: 'hiking', title: 'Longji Rice Terraces', description: 'Trek de rijstterrassen en spot een lokale familie.', points: 100, reward: 'ğŸï¸ groepsfoto', location: 'Longju Rice Terraces' },
          { id: 'cn15', category: 'culinair', title: 'Street Food Safari', description: 'Doe een street food tour en beoordeel 5 gerechten.', points: 90, reward: 'ğŸ² Street food traktatie', location: 'Chengdu / Xiâ€™an' },
          { id: 'cn16', category: 'sociaal', title: 'Local Market Explorer', description: 'Bezoek een lokale markt en leer over 3 ingrediÃ«nten.', points: 70, reward: 'ğŸ›’ Markt souvenir', location: 'Diverse markten in China' },
          { id: 'cn17', category: 'wildcard', title: 'Li River Cruise', description: 'Maak een boottocht op de Li River en spot unieke flora/fauna.', points: 80, reward: 'ğŸš¤ Miniatuur boot', location: 'Guilin' },
          { id: 'cn18', category: 'romance', title: 'Sunset at The Bund', description: 'Kus bij zonsondergang met uitzicht op de skyline.', points: 70, reward: 'ğŸ’‹ Romantische avond met Danny en Gellie', location: 'Shanghai' },
          { id: 'cn19', category: 'culinair', title: 'Hotpot Master', description: 'Maak je eigen hotpot met een local.', points: 80, reward: 'ğŸ¥¢ Hotpot traktatie', location: 'Chengdu' },   
          { id: 'cn20', category: 'romance', title: 'Lantern Festival Kiss', description: 'Kus tijdens het Lantern Festival.', points: 90, reward: 'ğŸ’‹ Extra zoen van je vriendje', location: 'Overal in China' },
          { id: 'cn21', category: 'hiking', title: 'Jiuzhaigou Valley Trek', description: 'Wandel door de kleurrijke Jiuzhaigou vallei.', points: 110, reward: 'ğŸï¸ groepsfoto', location: 'Jiuzhaigou' },
          { id: 'cn22', category: 'kite', title: 'Dunhuang Desert Kite', description: 'Vlieg een vlieger in de Gobi-woestijn.', points: 100, reward: 'ğŸª Vlieger-sticker', location: 'Dunhuang' }
        ]
      },
      taiwan: {
        id: 'taiwan', name: 'Taiwan', flag: 'ğŸ‡¹ğŸ‡¼', period: 'April',
        challenges: [
          { id: 'tw1', category: 'culinair', title: 'Nachtmarkt Ninja', description: 'Scoor 7 iconische snacks op 1 avond.', points: 70, reward: 'ğŸ§‹ Bubble-tea bon', location: 'Taipei' },
          { id: 'tw2', category: 'hiking', title: 'Alishan Sunrise', description: 'Zonsopgang tussen de wolkenzee.', points: 80, reward: 'ğŸŒ„ Thermos', location: 'Alishan' },
          { id: 'tw3', category: 'wildcard', title: 'Firefly Magic', description: 'Spot vuurvliegjes in de bergen.', points: 60, reward: 'âœ¨ Mini lantaarn', location: 'Nantou' },
          { id: 'tw4', category: 'sociaal', title: 'KTV Superstar', description: 'Zing een mandopop-nummer in een lokale karaoke (KTV) bar en krijg het publiek mee.', points: 70, reward: 'ğŸ¤ Danny zingt een duet met je', location: 'Taipei' },
          { id: 'tw5', category: 'culinair', title: 'Stinky Tofu Strijder', description: 'Eet een portie stinkende tofu helemaal op, zonder je neus dicht te knijpen.', points: 80, reward: 'ğŸ§‹ Bubble-tea van Danny om de nasmaak weg te spoelen', location: 'Diverse nachtmarkten' },
          { id: 'tw6', category: 'kite', title: 'Penghu Wind Chaser', description: 'Ga kitesurfen op de winderige Penghu-eilanden en maak minstens Ã©Ã©n sprong in de lucht.', points: 90, reward: 'ğŸ¹ Cocktail van Danny om te proosten', location: 'Penghu Islands' },
          { id: 'tw7', category: 'romance', title: 'Loverâ€™s Bridge Sunset Kiss', description: 'Deel een kus bij zonsondergang op de beroemde Loverâ€™s Bridge in Tamsui.', points: 70, reward: 'ğŸ’‹ Extra zoen van je vriendje', location: 'Tamsui' },
          { id: 'tw8', category: 'hiking', title: 'Taroko Traverse', description: 'Wandel door de adembenemende Taroko-kloof en steek minstens 3 hangbruggen over.', points: 70, reward: 'ğŸ¦¶ Voetmassage van Danny na de hike', location: 'Taroko NP' },
          { id: 'tw9', category: 'hiking', title: 'Hehuanshan Sunset', description: 'Beklim Hehuanshan voor zonsondergang en neem een foto boven de wolken.', points: 85, reward: 'ğŸŒ… Sunset drankje', location: 'Hehuanshan' },
          { id: 'tw10', category: 'culinair', title: 'Bubble Tea Battle', description: 'Proef 3 verschillende bubble teas en bepaal de ultieme winnaar.', points: 50, reward: 'ğŸ§‹ Extra bubble tea', location: 'Taipei / Taichung' },
          { id: 'tw11', category: 'wildcard', title: 'Hot Spring Hopper', description: 'Bezoek 2 verschillende hot springs op 1 dag.', points: 70, reward: 'ğŸ› Badzout cadeau', location: 'Beitou / Jiaoxi' },
          { id: 'tw12', category: 'sociaal', title: 'Night Market Bargain', description: 'Onderhandel op een nachtmarkt en krijg minimaal 20% korting.', points: 60, reward: 'ğŸ’µ Extra snackbudget', location: 'Kaohsiung / Taipei' },
          { id: 'tw13', category: 'romance', title: 'Sun Moon Lake Kiss', description: 'Kus elkaar midden op het meer tijdens een boottocht.', points: 70, reward: 'ğŸ’‹ Extra knuffel', location: 'Sun Moon Lake' },
          { id: 'tw14', category: 'wildcard', title: 'Lantern Maker', description: 'Maak een wenslantaarn en laat hem op.', points: 80, reward: 'ğŸ® Mini-lantaarn souvenir', location: 'Pingxi' },
          { id: 'tw15', category: 'hiking', title: 'Elephant Mountain View', description: 'Hike naar Elephant Mountain en maak een skylinefoto.', points: 55, reward: 'ğŸ“¸ Like van Danny', location: 'Taipei' },
          { id: 'tw16', category: 'culinair', title: 'Vegetarische Tempel Lunch', description: 'Eet een volledige tempel-lunch buffetstijl.', points: 50, reward: 'ğŸš Tempel-souvenir', location: 'Chiayi / Taipei' },
          { id: 'tw17', category: 'wildcard', title: 'Scooter Adventure', description: 'Rijd minstens 50 km op een scooter en ontdek een verborgen plek.', points: 90, reward: 'ğŸ›µ Scootersticker', location: 'Kentings / East Coast' },
          { id: 'tw18', category: 'romance', title: 'Jiufen Rainy Date', description: 'Drink thee samen tijdens regen in een theehuis met uitzicht.', points: 65, reward: 'ğŸµ Kopje thee van Danny', location: 'Jiufen' },
          { id: 'tw19', category: 'hiking', title: 'Zhuilu Old Trail', description: 'Loop de spectaculaire Zhuilu Old Trail met afgronden.', points: 100, reward: 'ğŸ¥¾ Nieuwe hike-sokken', location: 'Taroko NP' },
          { id: 'tw20', category: 'sociaal', title: 'Call Me Maybe', description: 'Leer een Taiwanese zin van een local en gebruik hem 3x op 1 dag.', points: 60, reward: 'ğŸ“ Lokale SIM-kaart sticker', location: 'Overal' },
          { id: 'tw21', category: 'wildcard', title: 'Railway Bento', description: 'Koop een bento-box op een station en eet hem op in de trein.', points: 40, reward: 'ğŸš‚ Treinkaartje-souvenir', location: 'Overal' },
          { id: 'tw22', category: 'culinair', title: 'Shaved Ice Champion', description: 'Deel een gigantische shaved ice samen (en maak hem op).', points: 60, reward: 'ğŸ§ Dessert van Danny', location: 'Taipei / Kaohsiung' },
          { id: 'tw23', category: 'wildcard', title: 'Street Art Hunter', description: 'Vind 5 street-art murals en maak een creatieve collage.', points: 50, reward: 'ğŸ¨ Ansichtkaart', location: 'Kaohsiung / Taipei' },
          { id: 'tw24', category: 'romance', title: 'Love River Ride', description: 'Maak een romantische boottocht over de Love River.', points: 60, reward: 'ğŸ’‹ Extra zoen', location: 'Kaohsiung' },
          { id: 'tw25', category: 'hiking', title: 'Xiaoyoukeng Fumaroles', description: 'Wandel langs de zwavelbronnen in Yangmingshan en maak een stoere foto.', points: 65, reward: 'ğŸŒ‹ Mini-vulkaansouvenir', location: 'Yangmingshan NP' },
          { id: 'tw26', category: 'kite', title: 'Taitung Coast Kite', description: 'Ga kitesurfen op de oostkust van Taiwan.', points: 95, reward: 'ğŸ„â€â™‚ï¸ Massage van Danny na afloop', location: 'Taitung' },
          { id: 'tw27', category: 'wildcard', title: 'Temple Bell Ring', description: 'Luid een tempelbel en doe een wens.', points: 40, reward: 'ğŸ”” Mini-bel souvenir', location: 'Diverse tempels' },
          { id: 'tw28', category: 'sociaal', title: 'Train Talk', description: 'Raak in gesprek met een medereiziger in de trein en leer hun verhaal.', points: 70, reward: 'ğŸ›¤ï¸ Trein-souvenir', location: 'Overal' }

        ]
      },
      spain: {
        id: 'spain', name: 'Spanje', flag: 'ğŸ‡ªğŸ‡¸', period: 'Mei â€“ Juli',
        challenges: [
          { id: 'es1', category: 'kite', title: 'Tarifa Sunset Kite', description: 'Kite met zonsondergang aan de Straat van Gibraltar.', points: 85, reward: 'ğŸ•¶ï¸ Zonnebril koord', location: 'Tarifa' },
          { id: 'es2', category: 'sociaal', title: 'San FermÃ­n Toeschouwer', description: 'Beleef het festival als toeschouwer en interview 2 locals.', points: 70, reward: 'ğŸŸï¸ Event treat', location: 'Pamplona' },
          { id: 'es3', category: 'culinair', title: 'Tapas Tocht', description: 'Probeer tapas in 3 verschillende bars en kies je favoriete hapje.', points: 60, reward: 'ğŸ· Sangria traktatie', location: 'Diverse steden' },
          { id: 'es4', category: 'hiking', title: 'Camino Stempeljacht', description: 'Loop minstens 10 km van de Camino de Santiago en verzamel een pelgrimstempel.', points: 60, reward: 'ğŸš Camino-schelp souvenir', location: 'Noord-Spanje' },
          { id: 'es5', category: 'sociaal', title: 'Flamenco Fiesta', description: 'Dans spontaan mee met flamenco (handgeklap en een paar passen!) tijdens een lokale show.', points: 80, reward: 'ğŸŒ¹ Roos van Danny', location: 'AndalusiÃ«' },
          { id: 'es6', category: 'wildcard', title: 'Toro Bravo Pic', description: 'Maak een creatieve foto met een iconische Osborne-stier op de achtergrond.', points: 50, reward: 'ğŸ‚ Stieren-sleutelhanger', location: 'Spaans platteland' },
          { id: 'es7', category: 'romance', title: 'Alhambra Sunset Kiss', description: 'Kus bij zonsondergang met uitzicht op het Alhambra vanaf Mirador de San NicolÃ¡s.', points: 80, reward: 'ğŸ’‹ Extra zoen van je vriendje', location: 'Granada' },
          { id: 'es8', category: 'wildcard', title: 'GaudÃ­ Speurtocht', description: 'Vind 5 GaudÃ­-creaties in Barcelona en maak bij elke een foto.', points: 65, reward: 'ğŸ¨ GaudÃ­ koelkastmagneet', location: 'Barcelona' },
          { id: 'es9', category: 'culinair', title: 'Pintxos Crawl', description: 'Proef 5 pintxos in San SebastiÃ¡n.', points: 65, reward: 'ğŸ· Glas Txakoli', location: 'San SebastiÃ¡n' },
          { id: 'es10', category: 'hiking', title: 'Picos de Europa Hike', description: 'Hike minstens 10 km in Picos de Europa NP.', points: 90, reward: 'ğŸ¥¾ Stickers voor op je fles', location: 'AsturiÃ«' },
          { id: 'es11', category: 'wildcard', title: 'Paella Master', description: 'Kook samen een echte paella op open vuur.', points: 80, reward: 'ğŸš Paella-pan sticker', location: 'Valencia' },
          { id: 'es12', category: 'romance', title: 'Sevilla Rooftop Kiss', description: 'Kus elkaar op een rooftop bar met uitzicht.', points: 70, reward: 'ğŸ¸ Cocktail van Danny', location: 'Sevilla' },
          { id: 'es13', category: 'sociaal', title: 'Castellers Support', description: 'Help mee in de basis van een castellers toren.', points: 100, reward: 'ğŸ° Foto van jullie toren', location: 'CataloniÃ«' },
          { id: 'es14', category: 'wildcard', title: 'Cava Toast', description: 'Bezoek een cava-bodega en proost samen.', points: 60, reward: 'ğŸ¥‚ Glas cava', location: 'PenedÃ¨s' },
          { id: 'es15', category: 'hiking', title: 'Teide Sunrise', description: 'Beklim de Teide of neem de kabelbaan en vang de zonsopgang.', points: 120, reward: 'ğŸŒ‹ Vulkanen-pin', location: 'Tenerife' },
          { id: 'es16', category: 'sociaal', title: 'Local Market Master', description: 'Koop 3 onbekende ingrediÃ«nten op een Spaanse markt.', points: 70, reward: 'ğŸ›’ Markt-souvenir', location: 'Granada / Sevilla' },
          { id: 'es17', category: 'wildcard', title: 'Zipline Border', description: 'Zoef met de zipline de grens over naar Portugal.', points: 90, reward: 'âš¡ Adrenaline-shake', location: 'SanlÃºcar de Guadiana' },
          { id: 'es18', category: 'culinair', title: 'Sidra Pour', description: 'Schenk cider op traditionele manier (van boven je hoofd).', points: 60, reward: 'ğŸ Sidra glas', location: 'AsturiÃ«' },
          { id: 'es19', category: 'romance', title: 'Beach Bonfire', description: 'Steek een kampvuur aan op het strand (legaal) en geniet.', points: 80, reward: 'ğŸ”¥ Smoorhete knuffel', location: 'Costa de la Luz' },
          { id: 'es20', category: 'hiking', title: 'Caminito Challenge', description: 'Loop de Caminito del Rey en maak een foto op de hangbrug.', points: 100, reward: 'ğŸ“¸ Foto-afdruk', location: 'MÃ¡laga' },
          { id: 'es21', category: 'wildcard', title: 'Street Art Bingo', description: 'Vind 5 street-art murals in Madrid.', points: 55, reward: 'ğŸ¨ Magnet', location: 'Madrid' },
          { id: 'es22', category: 'kite', title: 'Costa Brava Kite', description: 'Ga kitesurfen op de Costa Brava.', points: 95, reward: 'ğŸ„â€â™‚ï¸ Post-sessie smoothie', location: 'Roses / Empuriabrava' },
          { id: 'es23', category: 'culinair', title: 'Churros & Choco', description: 'Eet churros met chocolade op de Plaza Mayor.', points: 50, reward: 'â˜• Koffie van Danny', location: 'Madrid' },
          { id: 'es24', category: 'wildcard', title: 'Alpujarras Explorer', description: 'Bezoek 3 witte dorpen in de Alpujarras.', points: 80, reward: 'ğŸ˜ï¸ Dorpskaart', location: 'AndalusiÃ«' },
          { id: 'es25', category: 'hiking', title: 'Montserrat Climb', description: 'Beklim Montserrat te voet in plaats van met de kabelbaan.', points: 90, reward: 'â›°ï¸ Montserrat-pin', location: 'CataloniÃ«' },
          { id: 'es26', category: 'sociaal', title: 'Fiesta Joiner', description: 'Sluit spontaan aan bij een lokaal dorpsfeest en dans mee.', points: 80, reward: 'ğŸ‰ Gratis drankje', location: 'Overal in Spanje' },
          { id: 'es27', category: 'romance', title: 'Costa Brava Cliff Sunset', description: 'Kus elkaar op een klif bij zonsondergang.', points: 75, reward: 'ğŸ’‹ Extra kus', location: 'Costa Brava' },
          { id: 'es28', category: 'wildcard', title: 'Wine Harvest Helper', description: 'Help 1 uur met druiven plukken bij een bodega.', points: 100, reward: 'ğŸ‡ Fles wijn mee', location: 'La Rioja' }
        ]
      },
      portugal: {
        id: 'portugal', name: 'Portugal', flag: 'ğŸ‡µğŸ‡¹', period: 'Mei â€“ Juli',
        challenges: [
          { id: 'pt1', category: 'culinair', title: 'Kaasboer Vriend', description: 'Maak vrienden met een kaasboer op de markt en leer 2 kazen.', points: 65, reward: 'ğŸ§€ Proefplankje', location: 'Diverse' },
          { id: 'pt2', category: 'culinair', title: 'Sardine Festival', description: 'Vier het sardine-festival en scoor het beste broodje.', points: 60, reward: 'ğŸŸ Sardinha pin', location: 'Lissabon/SetÃºbal' },
          { id: 'pt3', category: 'culinair', title: 'Pastel de Nata Proeverij', description: 'Proef pastÃ©is de nata van 3 verschillende bakkerijen en kies de lekkerste.', points: 50, reward: 'â˜• Koffie van Danny erbij', location: 'Lissabon/Porto' },
          { id: 'pt4', category: 'hiking', title: 'Sintra Sprookjestocht', description: 'Beklim de heuvels van Sintra te voet naar een kasteel (Moorse kasteel of Pena-paleis) en geniet van het uitzicht.', points: 70, reward: 'ğŸ° Traktatie bij lokale banketbakker', location: 'Sintra' },
          { id: 'pt5', category: 'sociaal', title: 'Ginjinha Cheers', description: 'Proost met een local op een glaasje Ginjinha (kersenlikeur) in Lissabon.', points: 45, reward: 'ğŸ’ Ginjinha-shotje op Danny\'s kosten', location: 'Lissabon' },
          { id: 'pt6', category: 'kite', title: 'Guincho Gust', description: 'Kitesurf in de stevige wind bij Guincho Beach (Cascais) en blijf 5 min overeind zonder crash.', points: 90, reward: 'ğŸ’¨ Gratis zand-exfoliatie!', location: 'Guincho, Cascais' },
          { id: 'pt7', category: 'romance', title: 'Miradouro Sunset Kiss', description: 'Kus bij zonsondergang op een van Lissabons miradouros met uitzicht over de rode daken.', points: 60, reward: 'ğŸ’‹ Extra zoen van je vriendje', location: 'Lissabon' },
          { id: 'pt8', category: 'wildcard', title: 'Surf\'s Up in Ericeira', description: 'Volg een surfles in Ericeira en surf minstens Ã©Ã©n golf staand uit.', points: 85, reward: 'ğŸ“¸ Surf-foto gemaakt door Danny', location: 'Ericeira' },
          { id: 'pt9', category: 'hiking', title: 'Rota Vicentina Stage', description: 'Loop minstens 15 km van de Rota Vicentina.', points: 85, reward: 'ğŸ¥¾ Nieuwe hike-sokken', location: 'Alentejo / Algarve' },
          { id: 'pt10', category: 'culinair', title: 'Port Flight', description: 'Proef 5 verschillende soorten port (wit, ruby, tawny).', points: 70, reward: 'ğŸ· Portflesje mee', location: 'Vila Nova de Gaia' },
          { id: 'pt11', category: 'sociaal', title: 'Portugese Zin', description: 'Leer 3 Portugese zinnen en gebruik ze in een gesprek.', points: 50, reward: 'ğŸ“š Taalboekje', location: 'Lissabon / Porto' },
          { id: 'pt12', category: 'wildcard', title: 'Tile Hunter', description: 'Maak een collage van 5 azulejos (tegels).', points: 45, reward: 'ğŸŸ¦ Mini-tegel', location: 'Porto / Lissabon' },
          { id: 'pt13', category: 'romance', title: 'Douro Valley Sunset', description: 'Drink wijn samen bij zonsondergang tussen de wijnranken.', points: 75, reward: 'ğŸ’‹ Extra knuffel', location: 'Douro Valley' },
          { id: 'pt14', category: 'wildcard', title: 'Tram 28 Ride', description: 'Rij de hele route van tram 28 en maak een selfie.', points: 60, reward: 'ğŸš‹ Tramkaartje', location: 'Lissabon' },
          { id: 'pt15', category: 'hiking', title: 'Madeira Stepsâ€¦ oh nee', description: 'Vind de meest steile straat van Porto en ren hem op!', points: 70, reward: 'ğŸ’ª Extra biertje', location: 'Porto' },
          { id: 'pt16', category: 'culinair', title: 'Bacalhau Battle', description: 'Proef 2 bacalhau-gerechten (kabeljauw) en kies de beste.', points: 65, reward: 'ğŸŸ Extra broodje', location: 'Porto / Lissabon' },
          { id: 'pt17', category: 'wildcard', title: 'Ocean Dip', description: 'Neem een duik in de Atlantische Oceaan bij zonsopkomst.', points: 80, reward: 'ğŸ–ï¸ Strandhanddoek', location: 'Algarve' },
          { id: 'pt18', category: 'romance', title: 'Fado Date', description: 'Luister samen naar live fado onder het genot van een glas wijn.', points: 70, reward: 'ğŸ¶ Serenade van Danny', location: 'Coimbra / Lissabon' },
          { id: 'pt19', category: 'sociaal', title: 'Market Chef', description: 'Koop 3 ingrediÃ«nten op de markt en kook er iets mee.', points: 90, reward: 'ğŸ½ï¸ Danny doet de afwas', location: 'Diverse markten' },
          { id: 'pt20', category: 'hiking', title: 'Serra da Estrela Summit', description: 'Hike naar de hoogste top van Portugal.', points: 100, reward: 'ğŸ¥¾ Bergsticker', location: 'Serra da Estrela' },
          { id: 'pt21', category: 'wildcard', title: 'Winery Sleepover', description: 'Overnacht bij een quinta en ontbijt tussen de wijnranken.', points: 120, reward: 'ğŸ‡ Flesje mee', location: 'Douro / Alentejo' },
          { id: 'pt22', category: 'kite', title: 'Lagos Kite Trick', description: 'Maak een kleine sprong tijdens het kitesurfen.', points: 95, reward: 'ğŸ„â€â™€ï¸ Massage van Danny', location: 'Praia de Lagos' },
          { id: 'pt23', category: 'culinair', title: 'Francesinha Challenge', description: 'Eet een halve vegetarische francesinha zelf op.', points: 80, reward: 'ğŸ» Speciaalbiertje', location: 'Porto' },
          { id: 'pt24', category: 'wildcard', title: 'Castle Crawl', description: 'Bezoek 3 kastelen in Ã©Ã©n dag.', points: 100, reward: 'ğŸ° Mini-kroon', location: 'Centro / Alentejo' },
          { id: 'pt25', category: 'romance', title: 'Starry Night Camp', description: 'Kampeer een nacht wild en tel minstens 10 sterren.', points: 85, reward: 'â­ Sterrenkaartje', location: 'Nationaal park' },
          { id: 'pt26', category: 'sociaal', title: 'Local Bar Cheers', description: 'Proost met een local in een taverna.', points: 50, reward: 'ğŸ· Rondje van Danny', location: 'Dorpjes' },
          { id: 'pt27', category: 'wildcard', title: 'Ocean Kayak', description: 'Kajak langs de kust en ga een grot in.', points: 90, reward: 'ğŸ›¶ Kajaksticker', location: 'Benagil / Algarve' },
          { id: 'pt28', category: 'hiking', title: 'Monchique Sunrise', description: 'Hike in de bergen van Monchique en maak een zonsopgang-foto.', points: 80, reward: 'ğŸŒ„ Ontbijt van Danny', location: 'Monchique' }
        ]
      },
      nepal: {
        id: 'nepal', name: 'Nepal', flag: 'ğŸ‡³ğŸ‡µ', period: 'Oktober',
        challenges: [
          { id: 'np1', category: 'hiking', title: 'Poon Hill Sunrise', description: 'Zonsopgang met Himalaya panorama.', points: 110, reward: 'ğŸ§¢ Cap / buff', location: 'Ghorepani' },
          { id: 'np2', category: 'sociaal', title: 'Dashain Vibes', description: 'Maak een foto met tika & deel blessings.', points: 70, reward: 'ğŸ‰ Festival souvenir', location: 'Kathmandu / Pokhara' },
          { id: 'np3', category: 'wildcard', title: 'Bruiloft-crasher ğŸ˜‰', description: 'Dans 1 nummer mee op een Nepalese bruiloft.', points: 120, reward: 'ğŸ’ƒ Date-night', location: 'Overal' },
          { id: 'np4', category: 'culinair', title: 'Dal Bhat 24 Hour', description: 'Eet een traditionele dal bhat met je handen en schep minstens 2 keer op (24 hour power!).', points: 50, reward: 'ğŸ§¼ Handgel van Danny naderhand', location: 'Overal in Nepal' },
          { id: 'np5', category: 'wildcard', title: 'Pokhara Paraglide Pro', description: 'Maak een tandem-paraglide sprong in Pokhara met uitzicht op de Annapurna-bergen.', points: 100, reward: 'ğŸ“¹ Danny filmt je vlucht voor later', location: 'Pokhara' },
          { id: 'np6', category: 'wildcard', title: 'Rhino Spotter', description: 'Ga op safari in Chitwan NP en spot ten minste Ã©Ã©n neushoorn in het wild.', points: 90, reward: 'ğŸ¦ Houten neushoorn-souvenir', location: 'Chitwan NP' },
          { id: 'np7', category: 'romance', title: 'Phewa Lake Moonlight Kiss', description: 'Kus elkaar bij maanlicht aan de oever van het Phewa-meer in Pokhara.', points: 60, reward: 'ğŸ’‹ Romantische avond met Danny en Gellie', location: 'Pokhara' },
          { id: 'np8', category: 'wildcard', title: 'Everest Air Safari', description: 'Neem een bergvlucht rond de Mount Everest en herken 3 beroemde toppen vanuit de lucht.', points: 100, reward: 'ğŸ“œ Everest-vlucht certificaat als aandenken', location: 'Mount Everest regio' },
          { id: 'np9', category: 'hiking', title: 'Annapurna Base Camp Trek', description: 'Hike naar het Annapurna Base Camp en maak een groepsfoto met de bergen op de achtergrond.', points: 130, reward: 'ğŸï¸ Groepsfoto', location: 'Annapurna NP' },
          { id: 'np10', category: 'culinair', title: 'Momo Master', description: 'Eet een portie van 10 momos (Tibetaanse dumplings) in Ã©Ã©n zit.', points: 60, reward: 'ğŸ¥Ÿ Extra portie van Danny', location: 'Kathmandu / Pokhara' },
          { id: 'np11', category: 'sociaal', title: 'Local Language Pro', description: 'Leer 5 basiszinnen in het Nepalees en gebruik ze in een gesprek met een local.', points: 70, reward: 'ğŸ“š Taalboekje Nepalees', location: 'Overal' },
          { id: 'np12', category: 'wildcard', title: 'Bungee Jump Braveheart', description: 'Maak een bungeejump van de hoogste bungeebrug ter wereld bij de Bhote Koshi-rivier.', points: 120, reward: 'ğŸª‚ Video van je sprong voor later', location: 'Bhote Koshi' },
          { id: 'np13', category: 'romance', title: 'Sunset at Sarangkot', description: 'Kus bij zonsondergang met uitzicht op de Himalaya vanaf Sarangkot.', points: 70, reward: 'ğŸ’‹ Extra zoen van je vriendje', location: 'Sarangkot, Pokhara' },
          { id: 'np14', category: 'hiking', title: 'Langtang Valley Trek', description: 'Hike door de Langtang-vallei en bezoek minstens Ã©Ã©n traditioneel Tamang-dorp.', points: 110, reward: 'ğŸ˜ï¸ Dorpskaartje als aandenken', location: 'Langtang NP' },
          { id: 'np15', category: 'culinair', title: 'Thakali Thali Challenge', description: 'Eet een volledige Thakali thali (traditionele maaltijd) met minstens 5 verschillende gerechten.', points: 70, reward: 'ğŸ› Extra snack', location: 'Overal in Nepal'},
          { id: 'np16', category: 'hiking', title: 'Annapurna Base Camp Sprint', description: 'Bereik het basiskamp in minder dan de gemiddelde tijd.', points: 130, reward: 'ğŸ”ï¸ Everest sticker', location: 'Annapurna NP' },
          { id: 'np17', category: 'wildcard', title: 'Monkey Temple Dash', description: 'Ren de trappen van Swayambhunath op zonder te stoppen.', points: 85, reward: 'ğŸ’ Monkey-souvenir', location: 'Kathmandu' },
          { id: 'np18', category: 'culinair', title: 'Momo Master', description: 'Maak en eet 10 momoâ€™s zelfgemaakt.', points: 70, reward: 'ğŸ¥Ÿ Momo-patch', location: 'Pokhara / Kathmandu' },
          { id: 'np19', category: 'wildcard', title: 'River Rafting Run', description: 'Doe een raftingtrip van minstens 2 uur.', points: 100, reward: 'ğŸš£â€â™€ï¸ Raft-sticker', location: 'Trishuli / Seti' },
          { id: 'np20', category: 'sociaal', title: 'Temple Helper', description: 'Help bij een tempelritueel of ceremonie.', points: 80, reward: 'ğŸ›• Tempel-souvenir', location: 'Kathmandu / Pokhara' },
          { id: 'np21', category: 'romance', title: 'Himalaya Hot Air Balloon', description: 'Maak een ballonvaart bij zonsopgang over de Kathmandu-vallei.', points: 150, reward: 'ğŸˆ Ballonvaart-certificaat', location: 'Kathmandu vallei' },
          { id: 'np22', category: 'hiking', title: 'Gosaikunda Lake Trek', description: 'Hike naar het heilige Gosaikunda-meer en neem een verfrissende duik.', points: 120, reward: 'ğŸï¸ Meer-foto', location: 'Langtang NP' },
          { id: 'np23', category: 'wildcard', title: 'Cultural Dance Night', description: 'Doe mee aan een traditionele dansavond en leer een dans.', points: 90, reward: 'ğŸ’ƒ Dansles van Danny', location: 'Kathmandu / Pokhara' },
          { id: 'np24', category: 'culinair', title: 'Street Food Safari', description: 'Proef 5 verschillende street foods in Kathmanduâ€™s Thamel wijk.', points: 60, reward: 'ğŸ¢ Extra snack van Danny', location: 'Kathmandu' },
          { id: 'np25', category: 'sociaal', title: 'Village Visit', description: 'Bezoek een afgelegen dorp en leer over hun levensstijl.', points: 100, reward: 'ğŸ˜ï¸ Dorpskaartje als aandenken', location: 'Himalaya regio' },
          { id: 'np26', category: 'wildcard', title: 'Sunrise Yoga Session', description: 'Doe mee aan een yogasessie bij zonsopgang met uitzicht op de bergen.', points: 70, reward: 'ğŸ§˜â€â™€ï¸ Yogamatje sticker', location: 'Pokhara / Kathmandu' },
          { id: 'np27', category: 'romance', title: 'Lumbini Peace Walk', description: 'Maak een vredige wandeling samen in Lumbini, de geboorteplaats van Boeddha.', points: 80, reward: 'ğŸ•Šï¸ Vredesketting', location: 'Lumbini' },
          { id: 'np28', category: 'hiking', title: 'Everest Base Camp Trek', description: 'Hike naar het Everest Base Camp en maak een groepsfoto met de bergen op de achtergrond.', points: 200, reward: 'ğŸï¸ Groepsfoto', location: 'Everest regio' },
          { id: 'np29', category: 'wildcard', title: 'Helicopter Tour', description: 'Maak een helikoptervlucht rond de Mount Everest en herken 3 beroemde toppen vanuit de lucht.', points: 250, reward: 'ğŸ“œ Everest-vlucht certificaat als aandenken', location: 'Mount Everest regio' },
          { id: 'np30', category: 'sociaal', title: 'Local Handicraft Purchase', description: 'Koop een handgemaakt souvenir rechtstreeks van een lokale ambachtsman.', points: 50, reward: 'ğŸ›ï¸ Souvenir van Danny', location: 'Kathmandu / Pokhara' }
        ]
      },
      camperlife: {
        id: 'camperlife',
        name: 'Camperlife',
        flag: 'ğŸš',
        period: 'Overal & Altijd',
        challenges: [
         { id: 'cl1', category: 'camperlife', title: 'Wild Camp Spot Master', description: 'Vind de mooiste gratis kampeerplek en maak een foto van de camper met uitzicht.', points: 80, reward: 'ğŸ· Flesje open bij zonsondergang', location: 'Overal' },
         { id: 'cl2', category: 'camperlife', title: 'Campfire Chef', description: 'Kook een complete maaltijd buiten, zonder de camperkeuken te gebruiken.', points: 70, reward: 'ğŸ”¥ Danny doet de afwas', location: 'Overal' },
         { id: 'cl3', category: 'camperlife', title: 'Sunrise Start', description: 'Rijd vÃ³Ã³r zonsopkomst naar een uitzichtpunt en ontbijt daar met de deuren open.', points: 85, reward: 'ğŸŒ… Extra knuffel + koffie', location: 'Overal' },
         { id: 'cl4', category: 'camperlife', title: 'Local Friend Finder', description: 'Nodig een andere camperreiziger uit voor een drankje of praatje en leer iets nieuws van hen.', points: 60, reward: 'ğŸ» Biertje van Danny', location: 'Overal' },
         { id: 'cl5', category: 'camperlife', title: 'Perfect Leveling', description: 'Zet de camper in Ã©Ã©n keer perfect waterpas zonder te corrigeren.', points: 50, reward: 'ğŸ¯ Een zak chips voor bij de borrel', location: 'Overal' },
         { id: 'cl6', category: 'camperlife', title: 'Starry Camper Night', description: 'Zet de stoelen buiten, kijk naar de sterren en tel minstens 10 vallende sterren.', points: 90, reward: 'â­ Massage onder de sterren', location: 'Overal' },
         { id: 'cl7', category: 'camperlife', title: 'Camp Decorator', description: 'Versier de camper voor een speciale gelegenheid (lampjes, kaarsjes, muziek).', points: 65, reward: 'ğŸ¶ Danny zet een romantische playlist op', location: 'Overal' },
         { id: 'cl8', category: 'camperlife', title: 'No Plan, Just Go', description: 'Rijd minimaal 50 km zonder te plannen waar je eindigt en kies de eerste mooie plek.', points: 75, reward: 'ğŸ¹ Verrassingscocktail bij aankomst', location: 'Overal' },
         { id: 'cl9', category: 'camperlife', title: 'Roadside Coffee Stop', description: 'Maak zelf koffie langs de weg met uitzicht en neem een foto.', points: 40, reward: 'â˜• Koffiekoek van Danny', location: 'Overal' },
         { id: 'cl10', category: 'camperlife', title: 'Camper Art Shoot', description: 'Maak een creatieve fotoserie van de camper (silhouet, zonsondergang, detailshots).', points: 70, reward: 'ğŸ“¸ Wordt de coverfoto van de dag', location: 'Overal' },
         { id: 'cl11', category: 'camperlife', title: '3-Nachten Off-Grid', description: 'Sta minstens 3 nachten achter elkaar off-grid (geen camping, geen stroompaal).', points: 120, reward: 'ğŸ”‹ Powerbank-oplading van Danny', location: 'Overal' },
         { id: 'cl12', category: 'camperlife', title: 'One Tank Wonder', description: 'Rijd een hele week zonder te tanken, plan je route slim.', points: 100, reward: 'â›½ Tankbeurt van Danny', location: 'Overal' },
         { id: 'cl13', category: 'camperlife', title: 'Minimalist Day', description: 'Gebruik een dag lang geen stroom in de camper, behalve voor de koelkast.', points: 70, reward: 'ğŸ”¦ Kaarsendate in de avond', location: 'Overal' },
         { id: 'cl14', category: 'camperlife', title: 'Scenic Shower', description: 'Douche op de mooiste plek die je vindt (riviertje, meer of stranddouche).', points: 85, reward: 'ğŸš¿ Extra warme douche morgen', location: 'Overal' },
         { id: 'cl15', category: 'camperlife', title: 'Tiny Kitchen Master', description: 'Maak een driegangenmaaltijd in de camperkeuken.', points: 90, reward: 'ğŸ° Toetje van Danny', location: 'Overal' },
         { id: 'cl16', category: 'camperlife', title: 'Spontane Sleepover', description: 'Nodig iemand uit om een drankje te doen bij de camper en maak er een kleine borrel van.', points: 65, reward: 'ğŸ¥‚ Speciaalbiertje open', location: 'Overal' },
         { id: 'cl17', category: 'camperlife', title: 'Hidden Gem Parking', description: 'Vind een parkeerplek waar niemand anders staat en blijf er een nacht.', points: 75, reward: 'ğŸ Kleine verrassing', location: 'Overal' },
         { id: 'cl18', category: 'camperlife', title: 'Vanlife Workout', description: 'Doe een workout buiten naast de camper (minimaal 20 min).', points: 50, reward: 'ğŸ’ª Rugmassage van Danny', location: 'Overal' },
         { id: 'cl19', category: 'camperlife', title: 'Camper Movie Night', description: 'CreÃ«er een bioscoopavond met laptop/tablet en popcorn in de camper.', points: 55, reward: 'ğŸ¬ Jij kiest de film voor morgen', location: 'Overal' },
         { id: 'cl20', category: 'camperlife', title: 'Laundry Hero', description: 'Was alle kleding en hang ze buiten te drogen bij de camper (Instagram moment!).', points: 60, reward: 'ğŸ‘• Schoon shirt first pick', location: 'Overal' }
        ]
      }
    };

    // Achievements definities (afgeleid op basis van voortgang)
    const achievements = [
      { id: 'a1', icon: 'ğŸ’‹', name: 'First Kiss', test: (state) => state.completedIds.some(id => /kiss/i.test(id) || /romance/.test(getChallengeById(id)?.category || '')) },
      { id: 'a2', icon: 'ğŸ·', name: 'Wine Warrior', test: (state) => countByCategory(state, 'culinair') >= 5 },
      { id: 'a3', icon: 'â›°ï¸', name: 'Hiking Hero', test: (state) => countByCategory(state, 'hiking') >= 5 },
      { id: 'a4', icon: 'ğŸª', name: 'Kite Queen', test: (state) => uniqueCountriesForCategory(state, 'kite') >= 3 },
      { id: 'a5', icon: 'ğŸ—£ï¸', name: 'Social Butterfly', test: (state) => countByCategory(state, 'sociaal') >= 5 },
      { id: 'a6', icon: 'ğŸ²', name: 'Wildcard Waanzin', test: (state) => countByCategory(state, 'wildcard') >= 3 },
      { id: 'a7', icon: 'ğŸº', name: 'Geef mij maar Amsterdam', test: (state) => countByCategory(state, 'amsterdam') >= 4 },
      { id: 'a8', icon: 'ğŸš', name: 'Camperlife Conqueror', test: (state) => countByCategory(state, 'camperlife') >= 13 }
    ];

    // Beloning thresholds (bij X gehaalde challenges)
    const rewardMilestones = [
      { threshold: 10, text: 'Backpacking escape - een nacht in een luxe accomodatie naar keuze ğŸ§' },
      { threshold: 25, text: 'Fancy pancy dinner naar keuze ğŸ½ï¸' },
      { threshold: 50, text: 'Je bent goud waard ğŸ' }
    ];

    /* ------------------------
       State & Storage
       ------------------------ */
    const STORAGE_KEY = 'wr_state_v1';
    function defaultState() {
      return {
        completed: {},            // { challengeId: true }
        rewardsUnlocked: [],      // milestone thresholds reached
        achievementsUnlocked: [], // achievement ids
      };
    }
    function loadState() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) return defaultState();
        const parsed = JSON.parse(raw);
        return Object.assign(defaultState(), parsed);
      } catch(e) {
        console.warn('State load failed', e);
        return defaultState();
      }
    }
    function saveState() { localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); }

    let state = loadState();
    let currentModalChallengeId = null;

    /* ------------------------
       Helpers
       ------------------------ */
    function allChallenges() {
      return Object.values(data).flatMap(country => country.challenges.map(ch => ({...ch, countryId: country.id})));
    }
    function getChallengeById(id) {
      return allChallenges().find(c => c.id === id);
    }
    function getCountryByChallengeId(id) {
      const ch = getChallengeById(id);
      return ch ? data[ch.countryId] : null;
    }
    function counts() {
      const list = allChallenges();
      const total = list.length;
      const completedIds = Object.keys(state.completed).filter(k => state.completed[k]);
      const completed = completedIds.length;
      const points = completedIds.reduce((sum, id) => {
        const ch = getChallengeById(id); return sum + (ch ? ch.points : 0);
      }, 0);
      return { total, completed, points, completedIds };
    }
    function countByCategory(_state, category) {
      return _state.completedIds
        .map(id => getChallengeById(id))
        .filter(ch => ch && ch.category === category).length;
    }
    function uniqueCountriesForCategory(_state, category) {
      const s = new Set();
      _state.completedIds.forEach(id => {
        const ch = getChallengeById(id);
        if (ch && ch.category === category) {
          const c = getCountryByChallengeId(id);
          if (c) s.add(c.id);
        }
      });
      return s.size;
    }
    function showNotification(text) {
      const n = document.getElementById('rewardNotification');
      const t = document.getElementById('rewardText');
      t.textContent = text;
      n.classList.add('show');
      setTimeout(() => n.classList.remove('show'), 3000);
    }
    function formatPct(n) { return Math.round(n*100); }
    function degFromPct(p) { return Math.round(p * 360) + 'deg'; }

    /* ------------------------
       Rendering
       ------------------------ */
    function setActiveTab(tab) {
      document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
      const active = document.querySelector(`.tab[data-tab="${tab}"]`);
      if (active) active.classList.add('active');
    }

    function showTab(tab) {
      setActiveTab(tab);
      const content = document.getElementById('content');
      if (tab === 'countries') renderCountries(content);
      if (tab === 'achievements') renderAchievements(content);
      if (tab === 'rewards') renderRewards(content);
    }

    function renderCountries(container) {
      const { total, completed, points } = counts();
      updateStats();

      let html = `
        <div class="filter-buttons">
          ${['alles','culinair','hiking','kite','sociaal','wildcard','romance'].map(cat => `
            <button class="filter-btn" data-filter="${cat}">${cat[0].toUpperCase()+cat.slice(1)}</button>
          `).join('')}
        </div>
      `;

      Object.values(data).forEach(country => {
        const totalC = country.challenges.length;
        const doneC = country.challenges.filter(ch => state.completed[ch.id]).length;
        const pct = totalC ? (doneC / totalC) : 0;
        html += `
          <section class="country-section" id="sec-${country.id}">
            <div class="country-header" onclick="toggleCountry('${country.id}')">
              <div class="country-flag">${country.flag}</div>
              <div class="country-info">
                <h3>${country.name}</h3>
                <span>${country.period} â€¢ ${doneC}/${totalC} voltooid</span>
              </div>
              <div class="country-progress">
                <div class="progress-circle" id="pc-${country.id}" style="--progress:${degFromPct(pct)}">
                  <span>${formatPct(pct)}%</span>
                </div>
              </div>
            </div>
            <div class="country-body" id="body-${country.id}">
              ${country.challenges.map(ch => renderChallengeCard(ch)).join('')}
            </div>
          </section>
        `;
      });

      container.innerHTML = html;

      // filter logic
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          const filter = btn.dataset.filter;
          filterChallenges(filter);
        });
      });
    }

    function renderChallengeCard(ch) {
      const done = !!state.completed[ch.id];
      const rewardLocked = !done;
      return `
        <div class="challenge-card ${done ? 'completed' : ''}" data-challenge="${ch.id}" onclick="openModal('${ch.id}')">
          <div class="challenge-header">
            <span class="challenge-category">${ch.category}</span>
            <span class="challenge-points">+${ch.points}p</span>
          </div>
          <div class="challenge-title">${ch.title}</div>
          <div class="challenge-description">${ch.description}</div>
          <div class="challenge-reward">
            ${rewardLocked ? 'ğŸ”’ Beloning verborgen' : 'ğŸ ' + ch.reward}
          </div>
        </div>
      `;
    }

    function toggleCountry(countryId) {
      const body = document.getElementById('body-' + countryId);
      if (!body) return;
      body.style.display = (body.style.display === 'none') ? '' : 'none';
    }

    function filterChallenges(filter) {
      const cards = document.querySelectorAll('.challenge-card');
      if (filter === 'alles') {
        cards.forEach(c => c.style.display = '');
        return;
      }
      cards.forEach(c => {
        const id = c.getAttribute('data-challenge');
        const ch = getChallengeById(id);
        c.style.display = (ch && ch.category === filter) ? '' : 'none';
      });
    }

    function renderAchievements(container) {
      updateStats();
      const _counts = counts();
      const st = Object.assign({}, state, { completedIds: _counts.completedIds });

      // recalc unlocked
      const newlyUnlocked = [];
      achievements.forEach(a => {
        const ok = !!a.test(st);
        const already = state.achievementsUnlocked.includes(a.id);
        if (ok && !already) {
          state.achievementsUnlocked.push(a.id);
          newlyUnlocked.push(a.name);
        }
      });
      if (newlyUnlocked.length) {
        saveState();
        showNotification('Nieuwe badge(s): ' + newlyUnlocked.join(', '));
      }

      const html = `
        <div class="leaderboard">
          <div class="leaderboard-item"><strong>Jullie</strong><span>${_counts.points} punten â€¢ ${_counts.completed}/${_counts.total} challenges</span></div>
        </div>
        <div class="achievement-grid">
          ${achievements.map(a => {
            const unlocked = state.achievementsUnlocked.includes(a.id);
            return `
              <div class="achievement-badge ${unlocked ? 'unlocked' : 'locked'}">
                <div class="achievement-icon">${a.icon}</div>
                <div class="achievement-name">${a.name}</div>
              </div>
            `;
          }).join('')}
        </div>
      `;
      container.innerHTML = html;
    }

    function renderRewards(container) {
      updateStats();
      const { completed } = counts();

      // Milestones (mystery boxes)
      const boxes = rewardMilestones.map(m => {
        const unlocked = completed >= m.threshold;
        const status = unlocked ? 'Ontgrendeld' : `Vergrendel tot ${m.threshold} challenges`;
        return `
          <div class="mystery-box" onclick="openMilestone(${m.threshold})" style="opacity:${unlocked?1:0.6}">
            <h4>ğŸ Mystery Box @ ${m.threshold} challenges</h4>
            <p>${unlocked ? 'Klik om te openen!' : status}</p>
          </div>
        `;
      }).join('');

      const html = `
        ${boxes}
        <div class="leaderboard">
          <div style="margin-bottom:8px; font-weight:600;">Ontgrendelde beloningen</div>
          ${(state.rewardsUnlocked.length === 0)
            ? '<div class="leaderboard-item">Nog geen beloningen ontgrendeldâ€¦ ğŸš€</div>'
            : state.rewardsUnlocked.map(t => `<div class="leaderboard-item">${t}</div>`).join('')
          }
        </div>
      `;
      container.innerHTML = html;
    }

    function updateStats() {
      const { total, completed, points } = counts();
      document.getElementById('totalPoints').textContent = points;
      document.getElementById('completedChallenges').textContent = `${completed}/${total}`;
      const pct = total ? (completed/total)*100 : 0;
      document.getElementById('progressBar').style.width = pct + '%';
      document.getElementById('unlockedRewards').textContent = state.rewardsUnlocked.length;

      // Update country progress circles if present
      Object.values(data).forEach(country => {
        const totalC = country.challenges.length;
        const doneC = country.challenges.filter(ch => state.completed[ch.id]).length;
        const p = totalC ? (doneC/totalC) : 0;
        const el = document.getElementById('pc-'+country.id);
        if (el) {
          el.style.setProperty('--progress', degFromPct(p));
          const span = el.querySelector('span');
          if (span) span.textContent = formatPct(p) + '%';
        }
      });
    }

    /* ------------------------
       Modal & Actions
       ------------------------ */
    function openModal(chId) {
      currentModalChallengeId = chId;
      const ch = getChallengeById(chId);
      if (!ch) return;
      document.getElementById('modalTitle').textContent = ch.title;
      document.getElementById('modalDescription').textContent = ch.description;
      document.getElementById('modalLocation').textContent = ch.location ? ('ğŸ“ ' + ch.location) : '';
      const rewardBox = document.getElementById('modalRewardBox');
      const done = !!state.completed[ch.id];
      rewardBox.style.display = done ? 'block' : 'none';
      rewardBox.textContent = 'ğŸ ' + ch.reward;

      document.getElementById('completeBtn').style.display = done ? 'none' : 'inline-block';
      document.getElementById('undoBtn').style.display = done ? 'inline-block' : 'none';

      document.getElementById('challengeModal').classList.add('active');
    }
    function closeModal() {
      currentModalChallengeId = null;
      document.getElementById('challengeModal').classList.remove('active');
    }
    function completeChallenge() {
      if (!currentModalChallengeId) return;
      state.completed[currentModalChallengeId] = true;
      saveState();
      closeModal();
      // Rewards per milestone
      checkMilestones();
      // Re-render current tab
      const active = document.querySelector('.tab.active')?.getAttribute('data-tab') || 'countries';
      showTab(active);
    }
    function undoChallenge() {
      if (!currentModalChallengeId) return;
      delete state.completed[currentModalChallengeId];
      saveState();
      closeModal();
      const active = document.querySelector('.tab.active')?.getAttribute('data-tab') || 'countries';
      showTab(active);
    }
    function checkMilestones() {
      const { completed } = counts();
      rewardMilestones.forEach(m => {
        if (completed >= m.threshold && !state.rewardsUnlocked.includes(m.text)) {
          state.rewardsUnlocked.push(m.text);
          saveState();
          showNotification(m.text);
        }
      });
    }
    function openMilestone(threshold) {
      const m = rewardMilestones.find(x => x.threshold === threshold);
      if (!m) return;
      const { completed } = counts();
      if (completed < threshold) {
        showNotification(`Nog ${threshold - completed} challenges tot deze box opent!`);
        return;
      }
      showNotification(`Geopend: ${m.text}`);
    }

    /* ------------------------
       Countdown & Special Banner
       ------------------------ */
    function renderCountdown() {
      const wrap = document.getElementById('countdownContainer');
      const html = `
        <div class="countdown">
          <div><strong>â³ Countdown tot vertrek (${tripStartDate})</strong></div>
          <div class="countdown-timer">
            <div class="countdown-item"><div class="countdown-value" id="cd-days">0</div><div class="countdown-label">dagen</div></div>
            <div class="countdown-item"><div class="countdown-value" id="cd-hours">0</div><div class="countdown-label">uren</div></div>
            <div class="countdown-item"><div class="countdown-value" id="cd-mins">0</div><div class="countdown-label">min</div></div>
            <div class="countdown-item"><div class="countdown-value" id="cd-secs">0</div><div class="countdown-label">sec</div></div>
          </div>
        </div>
      `;
      wrap.innerHTML = html;
      updateCountdown();
      setInterval(updateCountdown, 1000);
    }
    function updateCountdown() {
      const tgt = new Date(tripStartDate + 'T00:00:00');
      const now = new Date();
      let diff = Math.max(0, tgt - now);
      const d = Math.floor(diff / (1000*60*60*24)); diff -= d*24*60*60*1000;
      const h = Math.floor(diff / (1000*60*60)); diff -= h*60*60*1000;
      const m = Math.floor(diff / (1000*60)); diff -= m*60*1000;
      const s = Math.floor(diff / 1000);
      document.getElementById('cd-days').textContent = d;
      document.getElementById('cd-hours').textContent = h;
      document.getElementById('cd-mins').textContent = m;
      document.getElementById('cd-secs').textContent = s;
    }
    function maybeShowSpecialBanner() {
      const c = document.getElementById('specialBannerContainer');
      const today = new Date();
      const mmdd = (today.getMonth()+1) + '-' + today.getDate();
      // Voorbeeld: 14-2 Valentijn
      if (mmdd === '2-14') {
        c.innerHTML = `<div class="special-date-banner">ğŸ’˜ Valentijnsdag-bonus: dubbel punten voor romance-challenges vandaag!</div>`;
      } else {
        c.innerHTML = '';
      }
    }

    /* ------------------------
       Hearts
       ------------------------ */
    function spawnHearts() {
      const container = document.getElementById('hearts');
      const emojis = ['ğŸ’–','ğŸ’œ','ğŸ’˜','ğŸ’','ğŸ’™'];
      for (let i=0;i<20;i++) {
        const span = document.createElement('span');
        span.className = 'heart';
        span.textContent = emojis[Math.floor(Math.random()*emojis.length)];
        span.style.left = Math.random()*100 + '%';
        span.style.animationDelay = (Math.random()*8) + 's';
        span.style.fontSize = (14 + Math.random()*24) + 'px';
        container.appendChild(span);
      }
      setInterval(() => {
        const span = document.createElement('span');
        span.className = 'heart';
        span.textContent = emojis[Math.floor(Math.random()*emojis.length)];
        span.style.left = Math.random()*100 + '%';
        span.style.animationDelay = '0s';
        span.style.fontSize = (14 + Math.random()*24) + 'px';
        container.appendChild(span);
        // cleanup
        setTimeout(() => { if (container.children.length > 80) container.removeChild(container.firstChild); }, 9000);
      }, 1200);
    }

    /* ------------------------
       Boot
       ------------------------ */
    function init() {
      spawnHearts();
      renderCountdown();
      maybeShowSpecialBanner();
      showTab('countries');
      // default filter button active
      const firstFilter = document.querySelector('.filter-btn');
      if (firstFilter) firstFilter.classList.add('active');
    }

    // Expose for inline handlers
    window.showTab = showTab;
    window.openModal = openModal;
    window.toggleCountry = toggleCountry;
    window.completeChallenge = completeChallenge;
    window.undoChallenge = undoChallenge;
    window.openMilestone = openMilestone;

    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>


